<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Sign Up | Cook & Connect</title>

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
<link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">

<style>
  * { font-family: 'Poppins', sans-serif; }

  body {
    height: 100vh;
    display: flex;
    justify-content: center;
    align-items: center;
    background:
      linear-gradient(135deg, rgba(43,16,85,0.85), rgba(28,5,34,0.85)),
      url('https://images.unsplash.com/photo-1529042410759-befb1204b468?auto=format&fit=crop&w=1350&q=80')
      center/cover no-repeat;
    color: #fff;
  }

  .form-card {
    background: rgba(255,255,255,0.12);
    backdrop-filter: blur(20px);
    border-radius: 26px;
    padding: 35px 25px;
    width: 90%;
    max-width: 400px;
    text-align: center;
  }

  .form-control {
    background: rgba(255,255,255,0.1);
    border: none;
    border-radius: 14px;
    color: #fff;
    margin-bottom: 15px;
    padding: 12px;
  }

  .btn-signup {
    width: 100%;
    padding: 12px;
    border-radius: 14px;
    background: #7e5bef;
    border: none;
    color: #fff;
    font-weight: 600;
  }

  a { color: #ff6f61; text-decoration: none; }
</style>
</head>

<body>
  {% include 'navbar.html' %}


<div class="form-card">
  <h2>Cook & Connect</h2>
  <h5>Create a New Account</h5>

  <input id="name" class="form-control" placeholder="Full Name">
  <input id="email" class="form-control" placeholder="Email">
  <input id="password" type="password" class="form-control" placeholder="Password">
  <input id="confirmPassword" type="password" class="form-control" placeholder="Confirm Password">

  <button class="btn-signup" onclick="signup()">Sign Up</button>

  <p class="mt-3">
    Already have an account?
    <a href="/login-page">Login</a>
  </p>
</div>

<script>
function signup() {
  const name = document.getElementById("name").value.trim();
  const email = document.getElementById("email").value.trim();
  const password = document.getElementById("password").value.trim();
  const confirmPassword = document.getElementById("confirmPassword").value.trim();

  if (!name || !email || !password || !confirmPassword) {
    alert("Fill all fields");
    return;
  }

  if (password !== confirmPassword) {
    alert("Passwords do not match");
    return;
  }

  fetch("/signup", {
    method: "POST",
    headers: { "Content-Type": "application/json" },
    body: JSON.stringify({ name, email, password })
  })
  .then(res => res.json())
  .then(data => {
    if (data.message) {
      window.location.href = "/login-page";  // âœ… CORRECT
    } else {
      alert(data.error || "Signup failed");
    }
  })
  .catch(() => alert("Server error"));
}
</script>

</body>
</html>